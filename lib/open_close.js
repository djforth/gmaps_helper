(function(global,factory){if('function'==typeof define&&define.amd)define(['module','exports','lodash/delay','lodash/isNull'],factory);else if('undefined'!=typeof exports)factory(module,exports,require('lodash/delay'),require('lodash/isNull'));else{var mod={exports:{}};factory(mod,mod.exports,global.delay,global.isNull),global.open_close=mod.exports}})(this,function(module,exports,_delay2,_isNull2){'use strict';function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function addClose(map,id){return function(marker,infowindow){var elem=document.getElementById('pin-'+id);return(0,_isNull3.default)(elem)?null:void google.maps.event.addDomListener(elem,'click',function(e){e.preventDefault(),infowindow.close(map,marker)})}}Object.defineProperty(exports,'__esModule',{value:!0});var _delay3=_interopRequireDefault(_delay2),_isNull3=_interopRequireDefault(_isNull2);exports.default=function(map,id,closer){var close=addClose(map,id);return function(marker,infowindow){console.log('infowindow >>>>',infowindow),google.maps.event.addListener(marker,'click',function(){console.log('infowindow',infowindow),closer.closeAllWindows(),infowindow.open(map,marker),'undefined'!=typeof InfoBubble&&(google.maps.event.trigger(map,'resize'),(0,_delay3.default)(function(){close(marker,infowindow)},500))})}},module.exports=exports['default']});