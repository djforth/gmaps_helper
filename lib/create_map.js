(function(a,b){if('function'==typeof define&&define.amd)define(['exports','lodash/forEach','lodash/map','lodash/isArray','lodash/bind','lodash/partial','./close_info','./markers'],b);else if('undefined'!=typeof exports)b(exports,require('lodash/forEach'),require('lodash/map'),require('lodash/isArray'),require('lodash/bind'),require('lodash/partial'),require('./close_info'),require('./markers'));else{var c={exports:{}};b(c.exports,a.forEach,a.map,a.isArray,a.bind,a.partial,a.close_info,a.markers),a.create_map=c.exports}})(this,function(a,b,c,d,e,f,g,h){'use strict';function i(u){return u&&u.__esModule?u:{default:u}}function j(u,v){return function(w){var x=u(w);return v.addMarkers(x),x}}function k(u,v){return u=(0,p.default)(u)?(0,o.default)(u,function(w){return v(w)}):[v(u)],u}function l(u,v,w){var x=new w;return(0,n.default)(v,function(y){x.extend(y.marker.getPosition())}),u.fitBounds(x),this.obj}function m(u,v,w){var x=w.addListener(u,'idle',function(){this.getZoom()!==v&&this.setZoom(v),w.removeListener(x)});return this.obj}Object.defineProperty(a,'__esModule',{value:!0});var n=i(b),o=i(c),p=i(d),q=i(e),r=i(f),s=i(g),t=i(h);a.default=function(u){var v,w;return function(x,y){v=new x(u,y.getAll());var z=(0,s.default)(v),A=j((0,t.default)(v,z),z);w=k(y.get('pins'),A);var B={getMap:function getMap(){return v},setPosition:function setPosition(C){var D=C({lat:y.get('lat'),lng:y.get('lng')});v.setCenter(D)}};return B.centerMap=(0,r.default)((0,q.default)(l,{obj:B}),v,w),B.setZoom=(0,r.default)((0,q.default)(m,{obj:B}),v,y.get('zoom')),B}}});