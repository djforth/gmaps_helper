(function(global,factory){if('function'==typeof define&&define.amd)define(['module','exports','lodash/isFunction','lodash/isElement','lodash/partial','./create_gmaps_path','./options','./lazyload','./create_map','./maploader'],factory);else if('undefined'!=typeof exports)factory(module,exports,require('lodash/isFunction'),require('lodash/isElement'),require('lodash/partial'),require('./create_gmaps_path'),require('./options'),require('./lazyload'),require('./create_map'),require('./maploader'));else{var mod={exports:{}};factory(mod,mod.exports,global.isFunction,global.isElement,global.partial,global.create_gmaps_path,global.options,global.lazyload,global.create_map,global.maploader),global.map=mod.exports}})(this,function(module,exports,_isFunction2,_isElement,_partial,_create_gmaps_path,_options,_lazyload,_create_map,_maploader){'use strict';function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function creator(map,options){var m;return function(cb){options.addType().addCenter(),m=map(google.maps.Map,options),options.get('boundmap')&&m.centerMap(google.maps.LatLngBounds),options.get('autozoom')&&m.setZoom(google.maps.event),(0,_isFunction3.default)(cb)&&cb(m.getMap())}}Object.defineProperty(exports,'__esModule',{value:!0});var _isFunction3=_interopRequireDefault(_isFunction2),_isElement2=_interopRequireDefault(_isElement),_partial2=_interopRequireDefault(_partial),_create_gmaps_path2=_interopRequireDefault(_create_gmaps_path),_options2=_interopRequireDefault(_options),_lazyload2=_interopRequireDefault(_lazyload),_create_map2=_interopRequireDefault(_create_map),_maploader2=_interopRequireDefault(_maploader);exports.default=function(id,key){var map,options,gpath,lazyload,el;if(lazyload=!1,el=document.getElementById(id),!!(0,_isElement2.default)(el)){gpath=(0,_create_gmaps_path2.default)(key),options=(0,_options2.default)(el.dataset.map),map=(0,_create_map2.default)(el),window.mapLoaded=creator(map,options);var obj={addCallback:function addCallback(cb){return window.mapLoaded=(0,_partial2.default)(window.mapLoaded,cb),obj},addCenter:function addCenter(lat,lng){return options.update({lat:lat,lng:lng,centermap:!0}),obj},addConfig:function addConfig(config){return options.update(config),obj},addlazyload:function addlazyload(type){lazyload=!0,(0,_lazyload2.default)(el,type,function(removeLoader){removeLoader(),(0,_maploader2.default)(gpath.getPath('mapLoaded')).addPlugins(options.get('plugins')).load()})},addPath:function addPath(path){gpath=path},addLibraries:function addLibraries(libraries){return options.update({libraries:libraries}),obj},addType:function addType(type){return options.update({type:type}),obj},load:function load(){lazyload||(0,_maploader2.default)(gpath.getPath('mapLoaded')).addPlugins(options.get('libraries')).load()},setBounds:function setBounds(){return options.update({boundmap:!0}),obj},setZoom:function setZoom(z){return options.update({zoom:z,autozoom:!0}),obj}};return obj}},module.exports=exports['default']});